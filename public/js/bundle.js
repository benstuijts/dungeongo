!function(t){function e(i){if(n[i])return n[i].exports;var o=n[i]={exports:{},id:i,loaded:!1};return t[i].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function o(t){return t&&t.__esModule?t:{"default":t}}var r=n(1),a=o(r),s=n(28);i(s);n(29);new a["default"]({name:"John"})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=n(2),s=i(a),l=n(3),h=i(l),u=function(){function t(e){var n=this,i=e.name,r=void 0===i?"Random Dungeon":i,a=e.tileSize,l=void 0===a?{width:100,height:100}:a;o(this,t),this.player=new s["default"],this.name=r,this.tileSize=l,this.map="map",this.canvasMiniMap=document.getElementById("minimap"),this.canvasDungeon=document.getElementById("dungeon"),this.minimapCtx=this.canvasMiniMap.getContext("2d"),this.dungeonCtx=this.canvasDungeon.getContext("2d"),this.offCanvas=document.createElement("canvas"),this.offCtx=this.offCanvas.getContext("2d"),this.getMap=new Promise(function(t,e){var i=n.randomDungeon();i?t(i):e({error:"error"})}),this.firstMount()}return r(t,[{key:"firstMount",value:function(){var t=this;console.log("Building "+this.name),this.getMap.then(function(e){t.map=e,t.minimap(),console.log(t.map[9][9]);var n=t.createGrid(e),i=(new h["default"].Grid(n),new h["default"].AStarFinder,t.findPathTo(t.player,t.map[4][3]));console.log(i);var o=!0;i.forEach(function(e){1==t.map[e.x][e.y].id&&(o=!1)}),o?console.log("tile is visible to player"):console.log("tile is NOT visible to player"),t.renderMap(),t.renderOwnPlayer()})["catch"]()}},{key:"createGrid",value:function(t){var e=void 0,n=void 0,i=[];for(e=0;e<t.length;e++)for(i[e]=[],n=0;n<t[0].length;n++)i[e][n]=t[e][n].id;return i}},{key:"loadDungeon",value:function(){var t=this;return new Promise(function(e,n){console.log("get map with API call");var i=t.randomDungeon();i?e(i):n({error:"error"})})}},{key:"minimap",value:function(){console.log("draw minimap"),this.minimapCtx.clearRect(0,0,this.canvasMiniMap.width,this.canvasMiniMap.height);var t=void 0,e=void 0;for(t=0;t<this.map.length;t++)for(e=0;e<this.map[0].length;e++)1==this.map[t][e].id&&this.minimapCtx.fillRect(20*t,20*e,20,20);var n=this.player.getCenter({width:20,height:20});this.minimapCtx.beginPath(),this.minimapCtx.arc(n.x,n.y,10,0,2*Math.PI,!1),this.minimapCtx.fillStyle="green",this.minimapCtx.fill(),this.minimapCtx.lineWidth=2,this.minimapCtx.strokeStyle="#003300",this.minimapCtx.stroke()}},{key:"randomDungeon",value:function(){var t=arguments.length<=0||void 0===arguments[0]?10:arguments[0],e=arguments.length<=1||void 0===arguments[1]?10:arguments[1],n=[],i=void 0,o=void 0;for(i=0;i<t;i++)for(n[i]=[],o=0;o<e;o++)n[i][o]=new p({x:i,y:o});for(i=0;i<3*t;i++){var r=Math.round(Math.random()*(t-1)),a=Math.round(Math.random()*(e-1));n[r][a].id=1}return n[this.player.x][this.player.y].id=0,n}},{key:"isTileVisible",value:function(t,e){var n=this,i=this.findPathTo(e,t),o=!0;return i.forEach(function(t){1==n.map[t.x][t.y].id&&(o=!1)}),!!o}},{key:"findPathTo",value:function(t,e){for(var n=[],i=t.x,o=t.y,r=e.x,a=e.y,s=0,l=0,h=i,u=o,p=!1,c=!1,f=!1;0==f;)h!=r+1&&h!=r-1&&h!=r||(p=!0),u!=a+1&&u!=a-1&&u!=a||(c=!0),(h==r-1&&u==a-1||h==r-1&&u==a+1||h==r+1&&u==a-1||h==r+1&&u==a+1)&&(p=!0,c=!0,f=!0),p||(h<r&&(s=1),h>r&&(s=-1)),c||(u<a&&(l=1),u>a&&(l=-1)),h+=s,u+=l,n.push({x:h,y:u}),h==r&&u==a&&(f=!0),p&&c&&(f=!0),s=0,l=0;return n}},{key:"renderPlayers",value:function(){}},{key:"renderOwnPlayer",value:function(){var t=this.dungeonCtx;this.player.render(t)}},{key:"renderMap",value:function(){var t=this.dungeonCtx,e=void 0,n=void 0,i=this.player.x,o=this.player.y;for(e=i-4;e<i+5;e++)for(n=o-4;n<o+5;n++)if("undefined"!=typeof this.map[e][n]&&this.isTileVisible(this.map[e][n],this.player)){var r=1-.1*Math.abs(e-i);this.map[e][n].render(t,r)}}},{key:"render",value:function(){var t=this.dungeonCtx,e=void 0,n=void 0,i=this.player.x,o=this.player.y;for(e=i-4;e<i+5;e++)for(n=o-4;n<o+5;n++){var r=!0;if(i>e)for(var a=e+1;a<i;a++)try{1==this.map[a][n].id&&(r=!1)}catch(s){}if(i<e)for(var l=i+1;l<e;l++)try{1==this.map[l][n].id&&(r=!1)}catch(s){}if(o>n)for(var h=n-1;h<o;h++)try{1==this.map[e][h].id&&(r=!1)}catch(s){}if(o<n)for(var u=o+1;u<n;u++)try{1==this.map[e][u].id&&(r=!1)}catch(s){}var p=1;"undefined"!=typeof this.map[e][n]&&r&&this.map[e][n].render(t,p)}this.player.render(t)}}]),t}(),p=function(){function t(e){var n=e.x,i=e.y,r=e.id,a=void 0===r?0:r,s=e.width,l=void 0===s?100:s,h=e.height,u=void 0===h?100:h;o(this,t),this.id=a,this.floorTexture=null,this.x=n,this.y=i,this.width=l,this.height=u,this.color="lightgrey"}return r(t,[{key:"isVisibleTo",value:function(t){}},{key:"render",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?1:arguments[1];0==this.id?t.fillStyle="lightgrey":t.fillStyle="black",t.save(),t.globalAlpha=e,t.fillRect(this.x*this.width,this.y*this.height,this.width,this.height),t.font="20x Arial",t.fillStyle="red",t.fillText("id = "+this.id,this.x*this.width+20,this.y*this.height+30),t.fillText("color = "+this.color,this.x*this.width+20,this.y*this.height+50),t.restore()}}]),t}();e["default"]=u},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=function(){function t(){n(this,t),this.position={x:4,y:0},this.x=4,this.y=0,this.width=20,this.height=20}return i(t,[{key:"getBounds",value:function(t){return{x:this.position.x*t.width,y:this.position.y*t.height}}},{key:"getCenter",value:function(t){return{x:this.position.x*t.width+Math.round(t.width/2),y:this.position.y*t.height+Math.round(t.width/2)}}},{key:"render",value:function(t){var e=this.getCenter({width:100,height:100});t.beginPath(),t.arc(e.x,e.y,40,0,2*Math.PI,!1),t.fillStyle="green",t.fill(),t.lineWidth=2,t.strokeStyle="#003300",t.minimapCtx.stroke()}}]),t}();e["default"]=o},function(t,e,n){t.exports=n(4)},function(t,e,n){t.exports={Heap:n(5),Node:n(8),Grid:n(9),Util:n(11),DiagonalMovement:n(10),Heuristic:n(12),AStarFinder:n(13),BestFirstFinder:n(14),BreadthFirstFinder:n(15),DijkstraFinder:n(16),BiAStarFinder:n(17),BiBestFirstFinder:n(18),BiBreadthFirstFinder:n(19),BiDijkstraFinder:n(20),IDAStarFinder:n(21),JumpPointFinder:n(22)}},function(t,e,n){t.exports=n(6)},function(t,e,n){(function(t){(function(){var e,n,i,o,r,a,s,l,h,u,p,c,f,d,g;i=Math.floor,u=Math.min,n=function(t,e){return t<e?-1:t>e?1:0},h=function(t,e,o,r,a){var s;if(null==o&&(o=0),null==a&&(a=n),o<0)throw new Error("lo must be non-negative");for(null==r&&(r=t.length);o<r;)s=i((o+r)/2),a(e,t[s])<0?r=s:o=s+1;return[].splice.apply(t,[o,o-o].concat(e)),e},a=function(t,e,i){return null==i&&(i=n),t.push(e),d(t,0,t.length-1,i)},r=function(t,e){var i,o;return null==e&&(e=n),i=t.pop(),t.length?(o=t[0],t[0]=i,g(t,0,e)):o=i,o},l=function(t,e,i){var o;return null==i&&(i=n),o=t[0],t[0]=e,g(t,0,i),o},s=function(t,e,i){var o;return null==i&&(i=n),t.length&&i(t[0],e)<0&&(o=[t[0],e],e=o[0],t[0]=o[1],g(t,0,i)),e},o=function(t,e){var o,r,a,s,l,h;for(null==e&&(e=n),s=function(){h=[];for(var e=0,n=i(t.length/2);0<=n?e<n:e>n;0<=n?e++:e--)h.push(e);return h}.apply(this).reverse(),l=[],r=0,a=s.length;r<a;r++)o=s[r],l.push(g(t,o,e));return l},f=function(t,e,i){var o;if(null==i&&(i=n),o=t.indexOf(e),o!==-1)return d(t,0,o,i),g(t,o,i)},p=function(t,e,i){var r,a,l,h,u;if(null==i&&(i=n),a=t.slice(0,e),!a.length)return a;for(o(a,i),u=t.slice(e),l=0,h=u.length;l<h;l++)r=u[l],s(a,r,i);return a.sort(i).reverse()},c=function(t,e,i){var a,s,l,p,c,f,d,g,v,m;if(null==i&&(i=n),10*e<=t.length){if(p=t.slice(0,e).sort(i),!p.length)return p;for(l=p[p.length-1],g=t.slice(e),c=0,d=g.length;c<d;c++)a=g[c],i(a,l)<0&&(h(p,a,0,null,i),p.pop(),l=p[p.length-1]);return p}for(o(t,i),m=[],s=f=0,v=u(e,t.length);0<=v?f<v:f>v;s=0<=v?++f:--f)m.push(r(t,i));return m},d=function(t,e,i,o){var r,a,s;for(null==o&&(o=n),r=t[i];i>e&&(s=i-1>>1,a=t[s],o(r,a)<0);)t[i]=a,i=s;return t[i]=r},g=function(t,e,i){var o,r,a,s,l;for(null==i&&(i=n),r=t.length,l=e,a=t[e],o=2*e+1;o<r;)s=o+1,s<r&&!(i(t[o],t[s])<0)&&(o=s),t[e]=t[o],e=o,o=2*e+1;return t[e]=a,d(t,l,e,i)},e=function(){function t(t){this.cmp=null!=t?t:n,this.nodes=[]}return t.push=a,t.pop=r,t.replace=l,t.pushpop=s,t.heapify=o,t.updateItem=f,t.nlargest=p,t.nsmallest=c,t.prototype.push=function(t){return a(this.nodes,t,this.cmp)},t.prototype.pop=function(){return r(this.nodes,this.cmp)},t.prototype.peek=function(){return this.nodes[0]},t.prototype.contains=function(t){return this.nodes.indexOf(t)!==-1},t.prototype.replace=function(t){return l(this.nodes,t,this.cmp)},t.prototype.pushpop=function(t){return s(this.nodes,t,this.cmp)},t.prototype.heapify=function(){return o(this.nodes,this.cmp)},t.prototype.updateItem=function(t){return f(this.nodes,t,this.cmp)},t.prototype.clear=function(){return this.nodes=[]},t.prototype.empty=function(){return 0===this.nodes.length},t.prototype.size=function(){return this.nodes.length},t.prototype.clone=function(){var e;return e=new t,e.nodes=this.nodes.slice(0),e},t.prototype.toArray=function(){return this.nodes.slice(0)},t.prototype.insert=t.prototype.push,t.prototype.top=t.prototype.peek,t.prototype.front=t.prototype.peek,t.prototype.has=t.prototype.contains,t.prototype.copy=t.prototype.clone,t}(),("undefined"!=typeof t&&null!==t?t.exports:void 0)?t.exports=e:window.Heap=e}).call(this)}).call(e,n(7)(t))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}},function(t,e){function n(t,e,n){this.x=t,this.y=e,this.walkable=void 0===n||n}t.exports=n},function(t,e,n){function i(t,e,n){var i;"object"!=typeof t?i=t:(e=t.length,i=t[0].length,n=t),this.width=i,this.height=e,this.nodes=this._buildNodes(i,e,n)}var o=n(8),r=n(10);i.prototype._buildNodes=function(t,e,n){var i,r,a=new Array(e);for(i=0;i<e;++i)for(a[i]=new Array(t),r=0;r<t;++r)a[i][r]=new o(r,i);if(void 0===n)return a;if(n.length!==e||n[0].length!==t)throw new Error("Matrix size does not fit");for(i=0;i<e;++i)for(r=0;r<t;++r)n[i][r]&&(a[i][r].walkable=!1);return a},i.prototype.getNodeAt=function(t,e){return this.nodes[e][t]},i.prototype.isWalkableAt=function(t,e){return this.isInside(t,e)&&this.nodes[e][t].walkable},i.prototype.isInside=function(t,e){return t>=0&&t<this.width&&e>=0&&e<this.height},i.prototype.setWalkableAt=function(t,e,n){this.nodes[e][t].walkable=n},i.prototype.getNeighbors=function(t,e){var n=t.x,i=t.y,o=[],a=!1,s=!1,l=!1,h=!1,u=!1,p=!1,c=!1,f=!1,d=this.nodes;if(this.isWalkableAt(n,i-1)&&(o.push(d[i-1][n]),a=!0),this.isWalkableAt(n+1,i)&&(o.push(d[i][n+1]),l=!0),this.isWalkableAt(n,i+1)&&(o.push(d[i+1][n]),u=!0),this.isWalkableAt(n-1,i)&&(o.push(d[i][n-1]),c=!0),e===r.Never)return o;if(e===r.OnlyWhenNoObstacles)s=c&&a,h=a&&l,p=l&&u,f=u&&c;else if(e===r.IfAtMostOneObstacle)s=c||a,h=a||l,p=l||u,f=u||c;else{if(e!==r.Always)throw new Error("Incorrect value of diagonalMovement");s=!0,h=!0,p=!0,f=!0}return s&&this.isWalkableAt(n-1,i-1)&&o.push(d[i-1][n-1]),h&&this.isWalkableAt(n+1,i-1)&&o.push(d[i-1][n+1]),p&&this.isWalkableAt(n+1,i+1)&&o.push(d[i+1][n+1]),f&&this.isWalkableAt(n-1,i+1)&&o.push(d[i+1][n-1]),o},i.prototype.clone=function(){var t,e,n=this.width,r=this.height,a=this.nodes,s=new i(n,r),l=new Array(r);for(t=0;t<r;++t)for(l[t]=new Array(n),e=0;e<n;++e)l[t][e]=new o(e,t,a[t][e].walkable);return s.nodes=l,s},t.exports=i},function(t,e){var n={Always:1,Never:2,IfAtMostOneObstacle:3,OnlyWhenNoObstacles:4};t.exports=n},function(t,e){function n(t){for(var e=[[t.x,t.y]];t.parent;)t=t.parent,e.push([t.x,t.y]);return e.reverse()}function i(t,e){var i=n(t),o=n(e);return i.concat(o.reverse())}function o(t){var e,n,i,o,r,a=0;for(e=1;e<t.length;++e)n=t[e-1],i=t[e],o=n[0]-i[0],r=n[1]-i[1],a+=Math.sqrt(o*o+r*r);return a}function r(t,e,n,i){var o,r,a,s,l,h,u=Math.abs,p=[];for(a=u(n-t),s=u(i-e),o=t<n?1:-1,r=e<i?1:-1,l=a-s;;){if(p.push([t,e]),t===n&&e===i)break;h=2*l,h>-s&&(l-=s,t+=o),h<a&&(l+=a,e+=r)}return p}function a(t){var e,n,i,o,a,s,l=[],h=t.length;if(h<2)return l;for(a=0;a<h-1;++a)for(e=t[a],n=t[a+1],i=r(e[0],e[1],n[0],n[1]),o=i.length,s=0;s<o-1;++s)l.push(i[s]);return l.push(t[h-1]),l}function s(t,e){var n,i,o,a,s,l,h,u,p,c,f,d=e.length,g=e[0][0],v=e[0][1],m=e[d-1][0],y=e[d-1][1];for(n=g,i=v,s=[[n,i]],l=2;l<d;++l){for(u=e[l],o=u[0],a=u[1],p=r(n,i,o,a),f=!1,h=1;h<p.length;++h)if(c=p[h],!t.isWalkableAt(c[0],c[1])){f=!0;break}f&&(lastValidCoord=e[l-1],s.push(lastValidCoord),n=lastValidCoord[0],i=lastValidCoord[1])}return s.push([m,y]),s}function l(t){if(t.length<3)return t;var e,n,i,o,r,a,s=[],l=t[0][0],h=t[0][1],u=t[1][0],p=t[1][1],c=u-l,f=p-h;for(r=Math.sqrt(c*c+f*f),c/=r,f/=r,s.push([l,h]),a=2;a<t.length;a++)e=u,n=p,i=c,o=f,u=t[a][0],p=t[a][1],c=u-e,f=p-n,r=Math.sqrt(c*c+f*f),c/=r,f/=r,c===i&&f===o||s.push([e,n]);return s.push([u,p]),s}e.backtrace=n,e.biBacktrace=i,e.pathLength=o,e.interpolate=r,e.expandPath=a,e.smoothenPath=s,e.compressPath=l},function(t,e){t.exports={manhattan:function(t,e){return t+e},euclidean:function(t,e){return Math.sqrt(t*t+e*e)},octile:function(t,e){var n=Math.SQRT2-1;return t<e?n*t+e:n*e+t},chebyshev:function(t,e){return Math.max(t,e)}}},function(t,e,n){function i(t){t=t||{},this.allowDiagonal=t.allowDiagonal,this.dontCrossCorners=t.dontCrossCorners,this.heuristic=t.heuristic||a.manhattan,this.weight=t.weight||1,this.diagonalMovement=t.diagonalMovement,this.diagonalMovement||(this.allowDiagonal?this.dontCrossCorners?this.diagonalMovement=s.OnlyWhenNoObstacles:this.diagonalMovement=s.IfAtMostOneObstacle:this.diagonalMovement=s.Never),this.diagonalMovement===s.Never?this.heuristic=t.heuristic||a.manhattan:this.heuristic=t.heuristic||a.octile}var o=n(5),r=n(11),a=n(12),s=n(10);i.prototype.findPath=function(t,e,n,i,a){var s,l,h,u,p,c,f,d,g=new o(function(t,e){return t.f-e.f}),v=a.getNodeAt(t,e),m=a.getNodeAt(n,i),y=this.heuristic,b=this.diagonalMovement,k=this.weight,A=Math.abs,M=Math.SQRT2;for(v.g=0,v.f=0,g.push(v),v.opened=!0;!g.empty();){if(s=g.pop(),s.closed=!0,s===m)return r.backtrace(m);for(l=a.getNeighbors(s,b),u=0,p=l.length;u<p;++u)h=l[u],h.closed||(c=h.x,f=h.y,d=s.g+(c-s.x===0||f-s.y===0?1:M),(!h.opened||d<h.g)&&(h.g=d,h.h=h.h||k*y(A(c-n),A(f-i)),h.f=h.g+h.h,h.parent=s,h.opened?g.updateItem(h):(g.push(h),h.opened=!0)))}return[]},t.exports=i},function(t,e,n){function i(t){o.call(this,t);var e=this.heuristic;this.heuristic=function(t,n){return 1e6*e(t,n)}}var o=n(13);i.prototype=new o,i.prototype.constructor=i,t.exports=i},function(t,e,n){function i(t){t=t||{},this.allowDiagonal=t.allowDiagonal,this.dontCrossCorners=t.dontCrossCorners,this.diagonalMovement=t.diagonalMovement,this.diagonalMovement||(this.allowDiagonal?this.dontCrossCorners?this.diagonalMovement=r.OnlyWhenNoObstacles:this.diagonalMovement=r.IfAtMostOneObstacle:this.diagonalMovement=r.Never)}var o=n(11),r=n(10);i.prototype.findPath=function(t,e,n,i,r){var a,s,l,h,u,p=[],c=this.diagonalMovement,f=r.getNodeAt(t,e),d=r.getNodeAt(n,i);for(p.push(f),f.opened=!0;p.length;){if(l=p.shift(),l.closed=!0,l===d)return o.backtrace(d);for(a=r.getNeighbors(l,c),h=0,u=a.length;h<u;++h)s=a[h],s.closed||s.opened||(p.push(s),s.opened=!0,s.parent=l)}return[]},t.exports=i},function(t,e,n){function i(t){o.call(this,t),this.heuristic=function(t,e){return 0}}var o=n(13);i.prototype=new o,i.prototype.constructor=i,t.exports=i},function(t,e,n){function i(t){t=t||{},this.allowDiagonal=t.allowDiagonal,this.dontCrossCorners=t.dontCrossCorners,this.diagonalMovement=t.diagonalMovement,this.heuristic=t.heuristic||a.manhattan,this.weight=t.weight||1,this.diagonalMovement||(this.allowDiagonal?this.dontCrossCorners?this.diagonalMovement=s.OnlyWhenNoObstacles:this.diagonalMovement=s.IfAtMostOneObstacle:this.diagonalMovement=s.Never),this.diagonalMovement===s.Never?this.heuristic=t.heuristic||a.manhattan:this.heuristic=t.heuristic||a.octile}var o=n(5),r=n(11),a=n(12),s=n(10);i.prototype.findPath=function(t,e,n,i,a){var s,l,h,u,p,c,f,d,g=function(t,e){return t.f-e.f},v=new o(g),m=new o(g),y=a.getNodeAt(t,e),b=a.getNodeAt(n,i),k=this.heuristic,A=this.diagonalMovement,M=this.weight,x=Math.abs,w=Math.SQRT2,W=1,N=2;for(y.g=0,y.f=0,v.push(y),y.opened=W,b.g=0,b.f=0,m.push(b),b.opened=N;!v.empty()&&!m.empty();){for(s=v.pop(),s.closed=!0,l=a.getNeighbors(s,A),u=0,p=l.length;u<p;++u)if(h=l[u],!h.closed){if(h.opened===N)return r.biBacktrace(s,h);c=h.x,f=h.y,d=s.g+(c-s.x===0||f-s.y===0?1:w),(!h.opened||d<h.g)&&(h.g=d,h.h=h.h||M*k(x(c-n),x(f-i)),h.f=h.g+h.h,h.parent=s,h.opened?v.updateItem(h):(v.push(h),h.opened=W))}for(s=m.pop(),s.closed=!0,l=a.getNeighbors(s,A),u=0,p=l.length;u<p;++u)if(h=l[u],!h.closed){if(h.opened===W)return r.biBacktrace(h,s);c=h.x,f=h.y,d=s.g+(c-s.x===0||f-s.y===0?1:w),(!h.opened||d<h.g)&&(h.g=d,h.h=h.h||M*k(x(c-t),x(f-e)),h.f=h.g+h.h,h.parent=s,h.opened?m.updateItem(h):(m.push(h),h.opened=N))}}return[]},t.exports=i},function(t,e,n){function i(t){o.call(this,t);var e=this.heuristic;this.heuristic=function(t,n){return 1e6*e(t,n)}}var o=n(17);i.prototype=new o,i.prototype.constructor=i,t.exports=i},function(t,e,n){function i(t){t=t||{},this.allowDiagonal=t.allowDiagonal,this.dontCrossCorners=t.dontCrossCorners,this.diagonalMovement=t.diagonalMovement,this.diagonalMovement||(this.allowDiagonal?this.dontCrossCorners?this.diagonalMovement=r.OnlyWhenNoObstacles:this.diagonalMovement=r.IfAtMostOneObstacle:this.diagonalMovement=r.Never)}var o=n(11),r=n(10);i.prototype.findPath=function(t,e,n,i,r){var a,s,l,h,u,p=r.getNodeAt(t,e),c=r.getNodeAt(n,i),f=[],d=[],g=this.diagonalMovement,v=0,m=1;for(f.push(p),p.opened=!0,p.by=v,d.push(c),c.opened=!0,c.by=m;f.length&&d.length;){for(l=f.shift(),l.closed=!0,a=r.getNeighbors(l,g),h=0,u=a.length;h<u;++h)if(s=a[h],!s.closed)if(s.opened){if(s.by===m)return o.biBacktrace(l,s)}else f.push(s),s.parent=l,s.opened=!0,s.by=v;for(l=d.shift(),l.closed=!0,a=r.getNeighbors(l,g),h=0,u=a.length;h<u;++h)if(s=a[h],!s.closed)if(s.opened){if(s.by===v)return o.biBacktrace(s,l)}else d.push(s),s.parent=l,s.opened=!0,s.by=m}return[]},t.exports=i},function(t,e,n){function i(t){o.call(this,t),this.heuristic=function(t,e){return 0}}var o=n(17);i.prototype=new o,i.prototype.constructor=i,t.exports=i},function(t,e,n){function i(t){t=t||{},this.allowDiagonal=t.allowDiagonal,this.dontCrossCorners=t.dontCrossCorners,this.diagonalMovement=t.diagonalMovement,this.heuristic=t.heuristic||o.manhattan,this.weight=t.weight||1,this.trackRecursion=t.trackRecursion||!1,this.timeLimit=t.timeLimit||1/0,this.diagonalMovement||(this.allowDiagonal?this.dontCrossCorners?this.diagonalMovement=a.OnlyWhenNoObstacles:this.diagonalMovement=a.IfAtMostOneObstacle:this.diagonalMovement=a.Never),this.diagonalMovement===a.Never?this.heuristic=t.heuristic||o.manhattan:this.heuristic=t.heuristic||o.octile}var o=(n(11),n(12)),r=n(8),a=n(10);i.prototype.findPath=function(t,e,n,i,o){var a,s,l,h=0,u=(new Date).getTime(),p=function(t,e){return this.heuristic(Math.abs(e.x-t.x),Math.abs(e.y-t.y))}.bind(this),c=function(t,e){return t.x===e.x||t.y===e.y?1:Math.SQRT2},f=function(t,e,n,i,a){if(h++,this.timeLimit>0&&(new Date).getTime()-u>1e3*this.timeLimit)return 1/0;var s=e+p(t,g)*this.weight;if(s>n)return s;if(t==g)return i[a]=[t.x,t.y],t;var l,d,v,m,y=o.getNeighbors(t,this.diagonalMovement);for(v=0,l=1/0;m=y[v];++v){if(this.trackRecursion&&(m.retainCount=m.retainCount+1||1,m.tested!==!0&&(m.tested=!0)),d=f(m,e+c(t,m),n,i,a+1),d instanceof r)return i[a]=[t.x,t.y],d;this.trackRecursion&&0===--m.retainCount&&(m.tested=!1),d<l&&(l=d)}return l}.bind(this),d=o.getNodeAt(t,e),g=o.getNodeAt(n,i),v=p(d,g);for(a=0;!0;++a){if(s=[],l=f(d,0,v,s,0),l===1/0)return[];if(l instanceof r)return s;v=l}return[]},t.exports=i},function(t,e,n){function i(t){return t=t||{},t.diagonalMovement===o.Never?new r(t):t.diagonalMovement===o.Always?new a(t):t.diagonalMovement===o.OnlyWhenNoObstacles?new s(t):new l(t)}var o=n(10),r=n(23),a=n(25),s=n(26),l=n(27);t.exports=i},function(t,e,n){function i(t){o.call(this,t)}var o=n(24),r=n(10);i.prototype=new o,i.prototype.constructor=i,i.prototype._jump=function(t,e,n,i){var o=this.grid,r=t-n,a=e-i;if(!o.isWalkableAt(t,e))return null;if(this.trackJumpRecursion===!0&&(o.getNodeAt(t,e).tested=!0),o.getNodeAt(t,e)===this.endNode)return[t,e];if(0!==r){if(o.isWalkableAt(t,e-1)&&!o.isWalkableAt(t-r,e-1)||o.isWalkableAt(t,e+1)&&!o.isWalkableAt(t-r,e+1))return[t,e]}else{if(0===a)throw new Error("Only horizontal and vertical movements are allowed");if(o.isWalkableAt(t-1,e)&&!o.isWalkableAt(t-1,e-a)||o.isWalkableAt(t+1,e)&&!o.isWalkableAt(t+1,e-a))return[t,e];if(this._jump(t+1,e,t,e)||this._jump(t-1,e,t,e))return[t,e]}return this._jump(t+r,e+a,t,e)},i.prototype._findNeighbors=function(t){var e,n,i,o,a,s,l,h,u=t.parent,p=t.x,c=t.y,f=this.grid,d=[];if(u)e=u.x,n=u.y,i=(p-e)/Math.max(Math.abs(p-e),1),o=(c-n)/Math.max(Math.abs(c-n),1),0!==i?(f.isWalkableAt(p,c-1)&&d.push([p,c-1]),f.isWalkableAt(p,c+1)&&d.push([p,c+1]),f.isWalkableAt(p+i,c)&&d.push([p+i,c])):0!==o&&(f.isWalkableAt(p-1,c)&&d.push([p-1,c]),f.isWalkableAt(p+1,c)&&d.push([p+1,c]),f.isWalkableAt(p,c+o)&&d.push([p,c+o]));else for(a=f.getNeighbors(t,r.Never),l=0,h=a.length;l<h;++l)s=a[l],d.push([s.x,s.y]);return d},t.exports=i},function(t,e,n){function i(t){t=t||{},this.heuristic=t.heuristic||a.manhattan,this.trackJumpRecursion=t.trackJumpRecursion||!1}var o=n(5),r=n(11),a=n(12);n(10);i.prototype.findPath=function(t,e,n,i,a){var s,l=this.openList=new o(function(t,e){return t.f-e.f}),h=this.startNode=a.getNodeAt(t,e),u=this.endNode=a.getNodeAt(n,i);for(this.grid=a,h.g=0,h.f=0,l.push(h),h.opened=!0;!l.empty();){if(s=l.pop(),s.closed=!0,s===u)return r.expandPath(r.backtrace(u));this._identifySuccessors(s)}return[]},i.prototype._identifySuccessors=function(t){var e,n,i,o,r,s,l,h,u,p,c=this.grid,f=this.heuristic,d=this.openList,g=this.endNode.x,v=this.endNode.y,m=t.x,y=t.y,b=Math.abs;Math.max;for(e=this._findNeighbors(t),o=0,r=e.length;o<r;++o)if(n=e[o],i=this._jump(n[0],n[1],m,y)){if(s=i[0],l=i[1],p=c.getNodeAt(s,l),p.closed)continue;h=a.octile(b(s-m),b(l-y)),u=t.g+h,(!p.opened||u<p.g)&&(p.g=u,p.h=p.h||f(b(s-g),b(l-v)),p.f=p.g+p.h,p.parent=t,p.opened?d.updateItem(p):(d.push(p),p.opened=!0))}},t.exports=i},function(t,e,n){function i(t){o.call(this,t)}var o=n(24),r=n(10);i.prototype=new o,i.prototype.constructor=i,i.prototype._jump=function(t,e,n,i){var o=this.grid,r=t-n,a=e-i;if(!o.isWalkableAt(t,e))return null;if(this.trackJumpRecursion===!0&&(o.getNodeAt(t,e).tested=!0),o.getNodeAt(t,e)===this.endNode)return[t,e];if(0!==r&&0!==a){if(o.isWalkableAt(t-r,e+a)&&!o.isWalkableAt(t-r,e)||o.isWalkableAt(t+r,e-a)&&!o.isWalkableAt(t,e-a))return[t,e];if(this._jump(t+r,e,t,e)||this._jump(t,e+a,t,e))return[t,e]}else if(0!==r){if(o.isWalkableAt(t+r,e+1)&&!o.isWalkableAt(t,e+1)||o.isWalkableAt(t+r,e-1)&&!o.isWalkableAt(t,e-1))return[t,e]}else if(o.isWalkableAt(t+1,e+a)&&!o.isWalkableAt(t+1,e)||o.isWalkableAt(t-1,e+a)&&!o.isWalkableAt(t-1,e))return[t,e];return this._jump(t+r,e+a,t,e)},i.prototype._findNeighbors=function(t){var e,n,i,o,a,s,l,h,u=t.parent,p=t.x,c=t.y,f=this.grid,d=[];if(u)e=u.x,n=u.y,i=(p-e)/Math.max(Math.abs(p-e),1),o=(c-n)/Math.max(Math.abs(c-n),1),0!==i&&0!==o?(f.isWalkableAt(p,c+o)&&d.push([p,c+o]),f.isWalkableAt(p+i,c)&&d.push([p+i,c]),f.isWalkableAt(p+i,c+o)&&d.push([p+i,c+o]),f.isWalkableAt(p-i,c)||d.push([p-i,c+o]),f.isWalkableAt(p,c-o)||d.push([p+i,c-o])):0===i?(f.isWalkableAt(p,c+o)&&d.push([p,c+o]),f.isWalkableAt(p+1,c)||d.push([p+1,c+o]),f.isWalkableAt(p-1,c)||d.push([p-1,c+o])):(f.isWalkableAt(p+i,c)&&d.push([p+i,c]),f.isWalkableAt(p,c+1)||d.push([p+i,c+1]),f.isWalkableAt(p,c-1)||d.push([p+i,c-1]));else for(a=f.getNeighbors(t,r.Always),l=0,h=a.length;l<h;++l)s=a[l],d.push([s.x,s.y]);return d},t.exports=i},function(t,e,n){function i(t){o.call(this,t)}var o=n(24),r=n(10);i.prototype=new o,i.prototype.constructor=i,i.prototype._jump=function(t,e,n,i){var o=this.grid,r=t-n,a=e-i;if(!o.isWalkableAt(t,e))return null;if(this.trackJumpRecursion===!0&&(o.getNodeAt(t,e).tested=!0),o.getNodeAt(t,e)===this.endNode)return[t,e];if(0!==r&&0!==a){if(this._jump(t+r,e,t,e)||this._jump(t,e+a,t,e))return[t,e]}else if(0!==r){if(o.isWalkableAt(t,e-1)&&!o.isWalkableAt(t-r,e-1)||o.isWalkableAt(t,e+1)&&!o.isWalkableAt(t-r,e+1))return[t,e]}else if(0!==a&&(o.isWalkableAt(t-1,e)&&!o.isWalkableAt(t-1,e-a)||o.isWalkableAt(t+1,e)&&!o.isWalkableAt(t+1,e-a)))return[t,e];return o.isWalkableAt(t+r,e)&&o.isWalkableAt(t,e+a)?this._jump(t+r,e+a,t,e):null},i.prototype._findNeighbors=function(t){var e,n,i,o,a,s,l,h,u=t.parent,p=t.x,c=t.y,f=this.grid,d=[];if(u)if(e=u.x,n=u.y,i=(p-e)/Math.max(Math.abs(p-e),1),o=(c-n)/Math.max(Math.abs(c-n),1),0!==i&&0!==o)f.isWalkableAt(p,c+o)&&d.push([p,c+o]),f.isWalkableAt(p+i,c)&&d.push([p+i,c]),f.isWalkableAt(p,c+o)&&f.isWalkableAt(p+i,c)&&d.push([p+i,c+o]);else{var g;if(0!==i){g=f.isWalkableAt(p+i,c);var v=f.isWalkableAt(p,c+1),m=f.isWalkableAt(p,c-1);g&&(d.push([p+i,c]),v&&d.push([p+i,c+1]),m&&d.push([p+i,c-1])),v&&d.push([p,c+1]),m&&d.push([p,c-1])}else if(0!==o){g=f.isWalkableAt(p,c+o);var y=f.isWalkableAt(p+1,c),b=f.isWalkableAt(p-1,c);g&&(d.push([p,c+o]),y&&d.push([p+1,c+o]),b&&d.push([p-1,c+o])),y&&d.push([p+1,c]),b&&d.push([p-1,c])}}else for(a=f.getNeighbors(t,r.OnlyWhenNoObstacles),l=0,h=a.length;l<h;++l)s=a[l],d.push([s.x,s.y]);return d},t.exports=i},function(t,e,n){function i(t){o.call(this,t)}var o=n(24),r=n(10);i.prototype=new o,i.prototype.constructor=i,i.prototype._jump=function(t,e,n,i){var o=this.grid,r=t-n,a=e-i;if(!o.isWalkableAt(t,e))return null;if(this.trackJumpRecursion===!0&&(o.getNodeAt(t,e).tested=!0),o.getNodeAt(t,e)===this.endNode)return[t,e];if(0!==r&&0!==a){if(o.isWalkableAt(t-r,e+a)&&!o.isWalkableAt(t-r,e)||o.isWalkableAt(t+r,e-a)&&!o.isWalkableAt(t,e-a))return[t,e];if(this._jump(t+r,e,t,e)||this._jump(t,e+a,t,e))return[t,e]}else if(0!==r){if(o.isWalkableAt(t+r,e+1)&&!o.isWalkableAt(t,e+1)||o.isWalkableAt(t+r,e-1)&&!o.isWalkableAt(t,e-1))return[t,e]}else if(o.isWalkableAt(t+1,e+a)&&!o.isWalkableAt(t+1,e)||o.isWalkableAt(t-1,e+a)&&!o.isWalkableAt(t-1,e))return[t,e];return o.isWalkableAt(t+r,e)||o.isWalkableAt(t,e+a)?this._jump(t+r,e+a,t,e):null},i.prototype._findNeighbors=function(t){var e,n,i,o,a,s,l,h,u=t.parent,p=t.x,c=t.y,f=this.grid,d=[];if(u)e=u.x,n=u.y,i=(p-e)/Math.max(Math.abs(p-e),1),o=(c-n)/Math.max(Math.abs(c-n),1),0!==i&&0!==o?(f.isWalkableAt(p,c+o)&&d.push([p,c+o]),f.isWalkableAt(p+i,c)&&d.push([p+i,c]),(f.isWalkableAt(p,c+o)||f.isWalkableAt(p+i,c))&&d.push([p+i,c+o]),!f.isWalkableAt(p-i,c)&&f.isWalkableAt(p,c+o)&&d.push([p-i,c+o]),!f.isWalkableAt(p,c-o)&&f.isWalkableAt(p+i,c)&&d.push([p+i,c-o])):0===i?f.isWalkableAt(p,c+o)&&(d.push([p,c+o]),f.isWalkableAt(p+1,c)||d.push([p+1,c+o]),f.isWalkableAt(p-1,c)||d.push([p-1,c+o])):f.isWalkableAt(p+i,c)&&(d.push([p+i,c]),f.isWalkableAt(p,c+1)||d.push([p+i,c+1]),f.isWalkableAt(p,c-1)||d.push([p+i,c-1]));else for(a=f.getNeighbors(t,r.IfAtMostOneObstacle),l=0,h=a.length;l<h;++l)s=a[l],d.push([s.x,s.y]);return d},t.exports=i},function(t,e){"use strict";function n(){console.log("test")}function i(){var t=arguments.length<=0||void 0===arguments[0]?"default value":arguments[0];console.log("test 2 "+t)}Object.defineProperty(e,"__esModule",{value:!0}),e.test=n,e.test2=i},function(t,e){"use strict";function n(t){var e=document.getElementById("active-players-container");e.innerHTML="",t.forEach(function(t){var n=document.createElement("div");n.className="player-container",n.innerHTML=i(t),e.appendChild(n)})}window.onload=function(){var t=document.getElementById("message-bar"),e={name:"player #"+Math.floor(9*Math.random()),id:"id"+Math.floor(9*Math.random()),avatar:Math.floor(9*Math.random()),hp:Math.floor(9*Math.random()),mp:Math.floor(9*Math.random()),exp:Math.floor(9*Math.random()),level:Math.floor(9*Math.random()+1)},i=[];i.push(e),console.log(i),i.forEach(function(t){console.log(t)}),n(i),socket.emit("new user",{player:e,dungeon:{id:"randomdungeon",name:"Random Dungeon"},room:"general"}),document.getElementById("enter").addEventListener("click",function(t){t.preventDefault(),socket.emit("enter dungeon",{player:e,dungeon:{id:"randomdungeon",name:"Random Dungeon"},room:"abc123"})},!1),document.getElementById("enter2").addEventListener("click",function(t){t.preventDefault(),socket.emit("ENTER_DUNGEON",{player:e,dungeon:{id:"randomdungeon",name:"Random Dungeon"},room:"randomdungeon"})},!1),socket.on("user joined",function(e){console.log(e),t.innerHTML=e.player.name+" joined..."}),socket.on("user left",function(e){console.log(e),t.innerHTML=e.player.name+" left..."})};var i=function(t){return'<div class="player-avatar-container"><img src="./images/avatar/'+t.avatar+'.png" width="100"></div>\n  <div class="player-name-container">\n    <p class="player-name">\n      <span id="player-name">'+t.name+'</span>\n    </p>\n    <div class="player-level-container">\n      <span id="player-level">'+t.level+'</span>\n    </div>\n  </div>\n  <div class="player-stats-container">\n    <progress class="progress-hp" max="10" value="'+t.hp+'"></progress>\n    <progress class="progress-mp" max="10" value="'+t.mp+'"></progress>\n    <progress class="progress-exp" max="10" value="'+t.exp+'"></progress>\n  </div>\n  '}}]);